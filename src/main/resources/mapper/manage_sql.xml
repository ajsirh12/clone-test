<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0/*EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="manageMapper">
	<select id="getTemplateList" resultType="com.thereal.model.dto.TempListDTO">
		select
			t.template_code,
			t.comment,
			c.seq,
			c.channel_name
		from
			TB_TEMPLATE as t,
			TB_CHANNEL as c
		where
			t.channel_seq = c.seq;
	</select>
	
	<select id="getTemplateDetail" resultType="com.thereal.model.dto.TempDetailDTO" parameterType="string">
		select
			t.template_code,
			t.comment,
			t.msg,
			t.phone,
			c.channel_name,
			c.sender_key
		from
			TB_TEMPLATE as t,
			TB_CHANNEL as c
		where
			c.seq=(
				select
					channel_seq
				from 
					TB_TEMPLATE
				where 
					template_code=#{tempCode}
			) and
			template_code=#{tempCode}
	</select>
</mapper>