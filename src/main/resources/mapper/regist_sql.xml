<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0/*EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="registMapper">
	<select id="ajaxChannels" resultType="com.thereal.model.dto.ChannelKeyDTO">
		select
			channel_name,
			sender_key
		from 
			TB_CHANNEL;
	</select>
	
	<select id="ajaxPhones" resultType="com.thereal.model.dto.PhoneDTO">
		select
			phone
		from 
			TB_PHONE;
	</select>
	
	<select id="ajaxButtons" resultType="com.thereal.model.dto.ButtonDTO">
		select
			name,
			url_mobile
		from
			TB_BTN;
	</select>
	
	<select id="selectChannel" parameterType="com.thereal.model.vo.ChannelVO" resultType="int">
		select
			seq
		from
			TB_CHANNEL
		where
			channel_name=#{channel_name} and
			sender_key=#{sender_key};
	</select>
	
	<insert id="insertChannel" parameterType="com.thereal.model.vo.ChannelVO">
		insert into
			TB_CHANNEL(
				channel_name,
				sender_key
			)
		values(
			#{channel_name},
			#{sender_key}
		);
	</insert>
</mapper>